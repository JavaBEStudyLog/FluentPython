
## 5. 데이터 클래스

**파이썬의 데이터 클래스**

자료를 저장하기 위한 클래스에서 반복적으로 작성해야하는 보일러플레이트 코드를 자동으로 생성해주는 기능
**collections.namedtuple
typingnamedtupe
@dataclassdataclass**

### 5.1 이번장의 변경사항

**Dataclasses 도입**

- @dataclass 데코레이터를 사용하여 클래스 정의를 간결하게 작성

### 5.2 데이터 클래스 빌더

**cordinate 클래스**

**특징**

- 가변(mutable) 객체 (옵션으로 frozen=True 설정 시 불변)
- 기본값 및 타입 힌트 지원
- 비교/출력 메서드 자동 생성
- field()를 이용해 세부 제어 가능 (기본값, exclude 등)
- 메서드 정의 및 상속 가능

```python
from dataclasses import dataclass
@dataclass
class Coordinate:
	x: int
	y: int
```

**namedtuple**

- namedtuple은 collections 모듈에서 제공하는 함수
- 튜플처럼 **불변(immutable)**이면서 필드 이름을 갖는 간단한 클래스 생성

```python
from collections import namedtuple

Coordinate = namedtuple('Coordinate', ['x', 'y'])
point = Coordinate(10, 20)
print(point.x)  # 10
print(point.y)  # 20
```

**특징**

- 메모리 효율적 (튜플 기반)
- __repr__, __eq__, __getitem__, __iter__ 등 자동 제공
- 필드명 접근 가능 (point.x)
- 불변 객체: 값을 바꿀 수 없음 (point.x = 100 → 오류)

**단점**

- 기본값 설정이 번거로움 (_replace 활용 필요)
- 타입 힌트 및 유연한 로직 추가가 어려움
- 상속이나 메서드 추가가 불편함

**데이터 클래스**

- dataclass 모듈의 @dataclass 데코레이터를 사용하여 클래스 정의 위에 지정하면 해당 클래스에 대해 __init__ 생성자나 __repr__() 출력메서드 등 여러 특별 메서드들을 자동으로 추가
- 데이터 클래스는 주로 데이터를 담기 위한 용도로 설계된 클래스에서 사용되고 이를 통해 핵심 필드 정의에만 집중하고 자잘한 메서드 구현은 파이썬에게 전가
- 데이터 클래스는 일반 클래스처럼 메서드 정의를 할 수 있어 단순한 데이터 보관 뿐만 아니라 파이썬의 클래스 기능인 상속, 메서드 정의등을 모두 지원
    
    ```python
    from dataclasses import dataclass
    
    # 데이터 클래스로 정의
    
    @dataclass
    class Product:
    	name: str           # 상품명
    	price: float        # 가격
    	quantity: int = 0   # 수량 (기본값 0)
    
    # 데이터 클래스 사용 예
    item1 = Product("Pen", 1.5, 10)
    item2 = Product("Pen", 1.5, 10)
    
    print(item1)
    print(item1 == item2)
    ```
    

**장점**

- 필요한 메서드를 자동 생성하여 중복 코드 감소
- 자동 생성되는 __eq__로 인해 두 객체의 내용비교가 용이하며 데이터 클래스 객체를 마치 값 
ex) 리스트나 딕셔너리의 원소로 추가하여도 값을 기준으로 포함 여부를 판단 가능
- 디버깅과 출력 용이
- 타입 힌트와의 조화
- 불변 객체 옵션
@dataclass(frozen=True)로 설정하면 불변(immutable) 데이터 클래스를 생성 가능

**단점**

- 은밀한 동작의 이해 필요
- 가변 기본값 문제
- 제한된 상속 지원
- 자동 생성에 따른 비용

**Java의 POJO와 파이썬 데이터 클래스**

```java
// Java POJO 예시

public class Person {
	private String name;
	private int age;
	public Person(String name, int age) {  // 생성자
		this.name = name;
		this.age = age;
	}

public String getName() { return name; }   // Getter

public void setName(String name) { this.name = name; }

public int getAge() { return age; }

public void setAge(int age) { this.age = age; }

@Override

public String toString() {  // toString() 재정의

return "Person{name='" + name + "', age=" + age + "}";

}

@Override

public boolean equals(Object o) {  // equals() 재정의

if (this == o) return true;

if (o == null || getClass() != o.getClass()) return false;

Person that = (Person) o;

return age == that.age && Objects.equals(name, that.name);

}

@Override

public int hashCode() {  // hashCode() 재정의

return Objects.hash(name, age);

}

}
```
